#!/usr/bin/python#THIS SCRIPT IS A MODIFIED VERSION OF WHAT YOU CAN FIND HERE:#http://webpython.codepoint.net/cgi_file_upload#THANKS FOR THAT!import cgi, osimport cgitb; cgitb.enable()try: # Windows needs stdio set for binary mode.    	import msvcrt    	msvcrt.setmode (0, os.O_BINARY) # stdin  = 0    	msvcrt.setmode (1, os.O_BINARY) # stdout = 1except ImportError:    	passform = cgi.FieldStorage()# A nested FieldStorage instance holds the filefileitem = form['myform']# Test if the file was uploadedif fileitem.filename:      	# strip leading path from file name to avoid directory traversal attacks	fn = os.path.basename(fileitem.filename)   #DOCUMENT_ROOT is set by server according to httpd spec	open(os.environ['DOCUMENT_ROOT'] + '/cgiupload/' + fn, 'wb').write(fileitem.file.read())	message = 'The file "' + fn + '" was uploaded successfully'else:	message = 'No file was uploaded'	#print("Content-Type: text/html\n")#^WE NEED THIS TO WORK!print ("""\<html><body><p>%s</p></body></html>""" % (message,))